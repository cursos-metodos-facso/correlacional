---
title: "Reporte Notas Prueba 1 - Estadística Correlacional 2024"
date: "2024-09-30"
lang: es
website:
  comments:
    giscus:
      repo: cursos-metodos-facso/correlacional
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, 
                      message = FALSE,
                      warning = FALSE)
```

# Prueba 1

## Librerías & datos 

```{r }
pacman::p_load(tidyverse, sjmisc, sjPlot, kableExtra, sjlabelled, readxl, here)
```

```{r echo=FALSE}
#Read google sheets data into R
prueba1 <- read_excel(path = here("files/reporte_notas/notas.xlsx"), sheet = "preguntas")

names(prueba1)

prueba1 <- prueba1 %>% 
  select(3:10, -Puntos) %>% 
  janitor::clean_names() %>% 
  rename_with(.cols = 1:6, .fn = ~ str_replace(., "x", "p")) %>% na.omit()
  
```


## Etiquetados
```{r}
# Label variables

prueba1$p1a <- set_label(x = prueba1$p1a, 
                         label = "Intervalo de Confianza")
prueba1$p1b <- set_label(x = prueba1$p1b, 
                         label = "Error tipo II")
prueba1$p1c <- set_label(x = prueba1$p1c, 
                         label = "Rechazo H0 valor p")
prueba1$p2a <- set_label(x = prueba1$p2a, 
                         label = "Formulación hipótesis")
prueba1$p2b <- set_label(x = prueba1$p2b, 
                         label = "Contraste de prueba t")
prueba1$p2c <- set_label(x = prueba1$p2c, 
                         label = "Intervalo confianza de prueba t")

prueba1$nota <- set_label(x = prueba1$nota, 
                         label = "Nota final")

```


## Tabla descriptiva

```{r}
prueba1 %>% descr(., show = c("label","range", "mean", "sd", "n"))%>% kable(.,"markdown", digits=2)
```

## Gráficos descriptivos

```{r}
hist(prueba1$nota)
plot_frq(data = prueba1$nota,type = "hist",show.mean = T)
```


```{r}
prueba1 <- prueba1 %>%  mutate(notas_cat=cut(nota, breaks=c(-Inf,4,5,6, Inf), labels=c("Menor a 4.0","4.0-5.0","5.0-6.0","6.0-7.0")))

frq(prueba1$notas_cat)

prueba1 <- prueba1 %>% dplyr::select(-notas_cat)
```

## Preguntas y asociaciones

```{r}
tab_corr(prueba1,
         triangle = "lower")
```


```{r}
plot_scatter(prueba1, p2b, p2c)
```


**Consistencia interna**

```{r}
pacman::p_load(ltm)

preguntas <- prueba1 %>% dplyr::select(-nota)
cronbach.alpha(na.omit(preguntas))
```
