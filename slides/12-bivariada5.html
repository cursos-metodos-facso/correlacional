
<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Estadística Correlacional</title>
    <meta charset="utf-8" />
    <meta name="author" content=".small[Juan Carlos Castillo    Departamento de Sociología - UCH / COES   ]" />
    <script src="libs/header-attrs-2.28/header-attrs.js"></script>
    <link href="libs/animate.css-3.7.2/animate.xaringan.css" rel="stylesheet" />
    <link href="libs/animate.css-xaringan-3.7.2/animate.fade.css" rel="stylesheet" />
    <script src="libs/fabric-4.3.1/fabric.min.js"></script>
    <link href="libs/xaringanExtra-scribble-0.0.1/scribble.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-scribble-0.0.1/scribble.js"></script>
    <script>document.addEventListener('DOMContentLoaded', function() { window.xeScribble = new Scribble({"pen_color":["#FF0000"],"pen_size":3,"eraser_size":30,"palette":[]}) })</script>
    <link href="libs/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view-0.2.6/tile-view.js"></script>
    <script src="libs/mark.js-8.11.1/mark.min.js"></script>
    <link href="libs/xaringanExtra-search-0.0.1/search.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-search-0.0.1/search.js"></script>
    <script>window.addEventListener('load', function() { window.xeSearch = new RemarkSearch({"position":"bottom-left","caseSensitive":false,"showIcon":true,"autoSearch":true}) })</script>
    <link rel="stylesheet" href="css/custom_2020.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">

class: front







.pull-left-wide[
# Estadística Correlacional]

.pull-right-narrow[![:scale 85%](img/logo-correlacional-transp.png)]

## Inferencia, asociación y reporte


----
.pull-left[

## Juan Carlos Castillo
## Sociología FACSO - UChile
## 2do Sem 2024
## [.orange[correlacional.netlify.app]](https:/correlacional.netlify.app)
]


.pull-right-narrow[
.center[
.content-block-gray[
## .gray[Sesión 12:] 
## .curso[Asociación con variables categóricas 2]]
]
]
---

layout: true
class: animated, fadeIn


---
# Tipos de correlación según nivel de medición
----

.small[

|                       | **Nominal Dicotómica**      | **Nominal Politómica**      | **Ordinal**                 | **Intervalar/Razón**       |
|-----------------------|----------------------------|----------------------------|----------------------------|---------------------------|
| **Nominal Dicotómica**|       Tetracórica      |                 |                     Biserial        | Punto Biserial  |
| **Nominal Politómica**|                |                 |                             |                            |
| **Ordinal**           |     Biserial                       |                            | Spearman, Kendall           | Pearson/biserial, Policórica                |
| **Intervalar/Razón**  | Punto Biserial   |                            | Pearson/biserial, Policórica                 | Pearson                   |

]

---
class: inverse bottom right

# Asociación en tablas de contingencia

---
## Escalas de medición de variables

- NOIR: Nominal, Ordinal, Intervalar, Razón

.small[
| Tipo       	| Características                     	        | Propiedad de números 	| Ejemplo|
|------------	|----------------------------------------------|---------------	|-----------	|
| *Nominal*    	| Uso de números en lugar de palabras 	| Identidad            	| Nacionalidad      	|
| *Ordinal*    	| Números se usan para ordenar series 	| + ranking            	| Nivel educacional 	|
| *Intervalar* 	| Intervalos iguales entre números    	| + igualdad           	| Temperatura       	|
| *Razón*      	| Cero real                           	| + aditividad         	| Distancia         	|
]

???

  - Nominal: Números empleados como etiquetas (ej. sexo, raza)

  - Ordinales: Distintas categorías puede sen ordenados en serie. Posición, no distancia. (ej. cargos en una empresa)

  - Intervalares: Escalas de unidades iguales. Diferencia entre dos número consecuntivos refleja diferencia empírica. (ej. Horas del día)

  - Razón: caracterizados por la presencia de un cero absoluto. (ej. frecuencias de eventos)

---
# Tablas de contingencia y asociación

----

.pull-left[
.content-box-red[
.center[
#¿Cómo establecer una medida de **asociación** de los datos en una tabla de contingencia?
]
]
]

.pull-right[
.content-box-purple[
.center[
#¿Cómo saber si esa asociación es **estadísticamente** significativa?
]
]
]
---
# Ejemplo (Datos CASEN 2022)

Pensemos en la siguiente pregunta de investigación:

**¿Existe una asociación entre la percepción de ser discriminado y el nivel educacional?**

`\(H_a\)`: el nivel educacional se asocia a la percepción de ser discriminado

`\(H_0\)`: no hay asociación entre nivel educacional y percepción de ser discriminado


---
## Tabla de frecuencias cruzadas




.pull-left-narrow[
.small[

``` r
pacman::p_load(sjPlot)
casen2022_chi %&gt;%
  sjtab(educ_sup,
        discrim)
```
]]

.pull-right-wide[
.small[
&lt;table style="border-collapse:collapse; border:none;"&gt;
 &lt;tr&gt;
 &lt;th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; border-bottom:1px solid;" rowspan="2"&gt;e6a. ¿Cuál es el&lt;br&gt;nivel educacional al&lt;br&gt;que asiste o el más&lt;br&gt;alto al cual&lt;br&gt;asistió?&lt;/th&gt;
 &lt;th style="border-top:double; text-align:center; font-style:italic; font-weight:normal;" colspan="2"&gt;r9t. Últ. 12 meses:&lt;br&gt;No ha sido tratado&lt;br&gt;injustamente o&lt;br&gt;discriminado&lt;/th&gt;
 &lt;th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; font-weight:bolder; font-style:italic; border-bottom:1px solid; " rowspan="2"&gt;Total&lt;/th&gt;
 &lt;/tr&gt;
 
&lt;tr&gt;
 &lt;td style="border-bottom:1px solid; text-align:center; padding:0.2cm;"&gt;discriminad@&lt;/td&gt;
 &lt;td style="border-bottom:1px solid; text-align:center; padding:0.2cm;"&gt;no discriminad@&lt;/td&gt;
 &lt;/tr&gt;
 
&lt;tr&gt; 
&lt;td style="padding:0.2cm;  text-align:left; vertical-align:middle;"&gt;Menos que&lt;br&gt;universitaria&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;26996&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;141998&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;  "&gt;&lt;span style="color:black;"&gt;168994&lt;/span&gt;&lt;/td&gt; 
&lt;/tr&gt;
 
&lt;tr&gt; 
&lt;td style="padding:0.2cm;  text-align:left; vertical-align:middle;"&gt;Universitaria o más&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;6476&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;26761&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;  "&gt;&lt;span style="color:black;"&gt;33237&lt;/span&gt;&lt;/td&gt; 
&lt;/tr&gt;
 
&lt;tr&gt; 
&lt;td style="padding:0.2cm;  border-bottom:double; font-weight:bolder; font-style:italic; text-align:left; vertical-align:middle;"&gt;Total&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;   border-bottom:double;"&gt;&lt;span style="color:black;"&gt;33472&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;   border-bottom:double;"&gt;&lt;span style="color:black;"&gt;168759&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;   border-bottom:double;"&gt;&lt;span style="color:black;"&gt;202231&lt;/span&gt;&lt;/td&gt; 
&lt;/tr&gt;
&lt;td style="text-align:right; font-size:0.9em; font-style:italic; padding:0.2cm;" colspan="4"&gt;&amp;chi;&lt;sup&gt;2&lt;/sup&gt;=247.461 &amp;middot; df=1 &amp;middot; &amp;phi=0.035 &amp;middot; p=0.000&lt;/td&gt; 
&lt;/tr&gt;
 
&lt;/table&gt;
]]


---
.pull-left-narrow[

Con ambos porcentajes:
.small[

``` r
casen2022_chi %&gt;%
  sjtab(educ_sup,
        discrim,
  show.row.prc=TRUE,
  show.col.prc=TRUE
  )
```
]]

.pull-right-wide[
.small[
&lt;table style="border-collapse:collapse; border:none;"&gt;
 &lt;tr&gt;
 &lt;th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; border-bottom:1px solid;" rowspan="2"&gt;e6a. ¿Cuál es el&lt;br&gt;nivel educacional al&lt;br&gt;que asiste o el más&lt;br&gt;alto al cual&lt;br&gt;asistió?&lt;/th&gt;
 &lt;th style="border-top:double; text-align:center; font-style:italic; font-weight:normal;" colspan="2"&gt;r9t. Últ. 12 meses:&lt;br&gt;No ha sido tratado&lt;br&gt;injustamente o&lt;br&gt;discriminado&lt;/th&gt;
 &lt;th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; font-weight:bolder; font-style:italic; border-bottom:1px solid; " rowspan="2"&gt;Total&lt;/th&gt;
 &lt;/tr&gt;
 
&lt;tr&gt;
 &lt;td style="border-bottom:1px solid; text-align:center; padding:0.2cm;"&gt;discriminad@&lt;/td&gt;
 &lt;td style="border-bottom:1px solid; text-align:center; padding:0.2cm;"&gt;no discriminad@&lt;/td&gt;
 &lt;/tr&gt;
 
&lt;tr&gt; 
&lt;td style="padding:0.2cm;  text-align:left; vertical-align:middle;"&gt;Menos que&lt;br&gt;universitaria&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;26996&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;16&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;80.7&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;141998&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;84&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;84.1&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;  "&gt;&lt;span style="color:black;"&gt;168994&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;100&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;83.6&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt; 
&lt;/tr&gt;
 
&lt;tr&gt; 
&lt;td style="padding:0.2cm;  text-align:left; vertical-align:middle;"&gt;Universitaria o más&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;6476&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;19.5&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;19.3&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;26761&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;80.5&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;15.9&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;  "&gt;&lt;span style="color:black;"&gt;33237&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;100&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;16.4&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt; 
&lt;/tr&gt;
 
&lt;tr&gt; 
&lt;td style="padding:0.2cm;  border-bottom:double; font-weight:bolder; font-style:italic; text-align:left; vertical-align:middle;"&gt;Total&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;   border-bottom:double;"&gt;&lt;span style="color:black;"&gt;33472&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;16.6&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;100&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;   border-bottom:double;"&gt;&lt;span style="color:black;"&gt;168759&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;83.4&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;100&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;   border-bottom:double;"&gt;&lt;span style="color:black;"&gt;202231&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;100&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;100&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt; 
&lt;/tr&gt;
&lt;td style="text-align:right; font-size:0.9em; font-style:italic; padding:0.2cm;" colspan="4"&gt;&amp;chi;&lt;sup&gt;2&lt;/sup&gt;=247.461 &amp;middot; df=1 &amp;middot; &amp;phi=0.035 &amp;middot; p=0.000&lt;/td&gt; 
&lt;/tr&gt;
 
&lt;/table&gt;
]
]

---

.pull-left-wide[
.small[
&lt;table style="border-collapse:collapse; border:none;"&gt;
 &lt;tr&gt;
 &lt;th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; border-bottom:1px solid;" rowspan="2"&gt;e6a. ¿Cuál es el&lt;br&gt;nivel educacional al&lt;br&gt;que asiste o el más&lt;br&gt;alto al cual&lt;br&gt;asistió?&lt;/th&gt;
 &lt;th style="border-top:double; text-align:center; font-style:italic; font-weight:normal;" colspan="2"&gt;r9t. Últ. 12 meses:&lt;br&gt;No ha sido tratado&lt;br&gt;injustamente o&lt;br&gt;discriminado&lt;/th&gt;
 &lt;th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; font-weight:bolder; font-style:italic; border-bottom:1px solid; " rowspan="2"&gt;Total&lt;/th&gt;
 &lt;/tr&gt;
 
&lt;tr&gt;
 &lt;td style="border-bottom:1px solid; text-align:center; padding:0.2cm;"&gt;discriminad@&lt;/td&gt;
 &lt;td style="border-bottom:1px solid; text-align:center; padding:0.2cm;"&gt;no discriminad@&lt;/td&gt;
 &lt;/tr&gt;
 
&lt;tr&gt; 
&lt;td style="padding:0.2cm;  text-align:left; vertical-align:middle;"&gt;Menos que&lt;br&gt;universitaria&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;26996&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;16&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;80.7&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;141998&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;84&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;84.1&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;  "&gt;&lt;span style="color:black;"&gt;168994&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;100&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;83.6&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt; 
&lt;/tr&gt;
 
&lt;tr&gt; 
&lt;td style="padding:0.2cm;  text-align:left; vertical-align:middle;"&gt;Universitaria o más&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;6476&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;19.5&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;19.3&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;26761&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;80.5&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;15.9&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;  "&gt;&lt;span style="color:black;"&gt;33237&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;100&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;16.4&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt; 
&lt;/tr&gt;
 
&lt;tr&gt; 
&lt;td style="padding:0.2cm;  border-bottom:double; font-weight:bolder; font-style:italic; text-align:left; vertical-align:middle;"&gt;Total&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;   border-bottom:double;"&gt;&lt;span style="color:black;"&gt;33472&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;16.6&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;100&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;   border-bottom:double;"&gt;&lt;span style="color:black;"&gt;168759&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;83.4&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;100&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;   border-bottom:double;"&gt;&lt;span style="color:black;"&gt;202231&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;100&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;br&gt;&lt;span style="color:#339933;"&gt;100&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt; 
&lt;/tr&gt;
&lt;td style="text-align:right; font-size:0.9em; font-style:italic; padding:0.2cm;" colspan="4"&gt;&amp;chi;&lt;sup&gt;2&lt;/sup&gt;=247.461 &amp;middot; df=1 &amp;middot; &amp;phi=0.035 &amp;middot; p=0.000&lt;/td&gt; 
&lt;/tr&gt;
 
&lt;/table&gt;
]
]

.pull-right-narrow[
&lt;br&gt;
# ¿Cómo saber si existe asociación o no entre estas variables?
]

---
.medium[Para simplificar, pensemos en una muestra más pequeña de 100 casos. Pensemos que nuestra tabla (**observada**) es esta:] 
.small[
  
  |                         | discriminad@ | no discriminad@ | Total |
  |-------------------------|--------------|-----------------|-------|
  | Menos que universitaria | 30           | 20               | 50    |
  | Universitaria o más     | 20           | 30              | 50    |
  | Total                   | 50           | 50              | 100   |
  ]

.medium[Ahora veamos como sería una tabla **teórica** que exprese como sería una asociación total entre las variables: ]
.small[
  |                         | discriminad@ | no discriminad@ | Total |
  |-------------------------|--------------|-----------------|-------|
  | Menos que universitaria | 50           | 0               | 50    |
  | Universitaria o más     | 0            | 50              | 50    |
  | Total                   | 50           | 50              | 100   |
]

---
En lenguaje de test de hipótesis, la tabla **teórica** representa nuestra **hipótesis alternativa**:  

  - -&gt; existe asociación entre percepción de discriminación y nivel educacional

--
.content-box-red[
Pero según la lógica de **falsación** de hipótesis, en lugar de analizar qué tan parecida es nuestra tabla observada a la tabla teórica de asociación, se contrasta la observada con una tabla donde **no hay asociación** 
]
--

La tabla de no-asociación es la **tabla de frecuencias esperadas al azar**

---
class: inverse middle center

## Una forma de generar evidencia de asociación bivariada en una tabla de contingencia es establecer si es **.yellow[distinta]** a una tabla sin asociación (frecuencia esperada al azar)

#-&gt; .yellow[test de _diferencia_]



---
class: center 
.pull-left-wide[
![:scale 80%](img/lluvia.webp)
]

.pull-right-narrow[
&lt;br&gt;
# ¿Cómo sería una tabla sin asociación?

]
---

![:scale 95%](img/esperada-observada.png)

---
class: inverse middle

.pull-left[
.large[

# `\(\chi^2\)` 
]

(chi cuadrado)]

--

.pull-right[
El **.yellow[test de diferencia]** `\(\chi^2\)` (o simplemente chi cuadrado) consiste en  contrastar nuestra tabla de contingencia .yellow[observada] con una tabla donde no existe asociación entre variables (frecuencia .yellow[esperada] al azar), que representa la hipótesis nula `\(H_0\)`]

---
class: inverse middle center

La clave de esta prueba es el contraste tabla observada / tabla esperada al azar. Entonces:

# ¿Cómo obtener una tabla de frecuencias esperadas al azar?



---
## Frecuencia esperada al azar en una tabla de contingencia
----
.medium[
|                         | discriminad@ | no discriminad@ | Total |
|-------------------------|--------------|-----------------|-------|
| Menos que universitaria | a            | b               | (a+b) |
| Universitaria o más     | c            | d               | (c+d) |
| Total                   | (a+c)        | (b+d)           | N     |
]

ej: celda **a**, su frecuencia esperada es:

## `$$f_{e_{a}}=\frac{(a+b)(a+c)}{N}$$`

---
En base a los datos de nuestro ejemplo de 100 casos:
.small[
  
  |                         | discriminad@ | no discriminad@ | Total |
  |-------------------------|--------------|-----------------|-------|
  | Menos que universitaria | 30 .red[(a)] | 20 .red[(b)]    | 50    |
  | Universitaria o más     | 20 .red[(c)] | 30 .red[(d)]    | 50    |
  | Total                   | 50           | 50              | 100   |
  ]
`$$f_{e_{a}}=\frac{(a+b)(a+c)}{N}$$`
`$$f_{e_{a}}=\frac{(50)(50)}{100}= \frac{2500}{100}=25$$`

Por lo tanto, la frecuencia **esperada** al azar para la celda **a**=25

---
- Del ejemplo se podría deducir que la frecuencia esperada es simplemente el total de casos dividido por el número de celdas: 100/4=25.

- Esto ocurre en el ejemplo porque es una tabla **uniforme**: los totales de las filas y columnas son los mismos, por lo tanto la frecuencia esperada para cada celda es la misma

- ¿Qué pasa en una tabla **no uniforme**?

---
class: center 
![:scale 55%](img/lluvia2.webp)

---
.small[
|                         | discriminad@ | no discriminad@ | Total |
|-------------------------|--------------|-----------------|-------|
| Menos que universitaria | 40   (a)     | 20 (b)          |  60   |
| Universitaria o más     | 15   (c)     | 25 (d)          |  40   |
| Total                   | 55           | 45              | 100   |
]

En este caso, las frecuencias esperadas serán distintas para cada celda, ej:

`$$(a)=f_{e_{a}}=\frac{(a+b)(a+c)}{N}=\frac{60*55}{100}=\frac{3300}{100}=33$$`
`$$(b)=f_{e_{b}}=\frac{(a+b)(a+c)}{N}=\frac{60*45}{100}=\frac{2700}{100}=27$$`




---
# Pasos en el cálculo de `\(\chi^2\)`

- Generación de tabla de contingencia en base a nuestros datos -&gt; tabla de **frecuencias observadas**

--

- Generación de tabla de contingencia **esperada** al azar en base a la tabla observada

--

- Establecer la diferencia entre lo **observado** y lo **esperado** al azar

--

- Establecer si esta diferencia es estadísticamente significativa

---
class: inverse middle right

.pull-left-narrow[
# Sentido general de la prueba de `\(\chi^2\)`
]

.pull-right-wide[
La lógica de la prueba de Chi 2 es la comparación de las frecuencias observadas `\((f_o)\)` en nuestra tabla y de las frecuencias esperadas `\((f_e)\)` por azar

----
Si nuestra tabla `\((f_o)\)` se diferencia **significativamente** del azar `\((f_e)\)`, entonces podemos rechazar la hipótesis nula y tenemos evidencia de asociación entre variables
]
---

.pull-left-narrow[
`$$f_{e_{a}}=\frac{(a+b)(a+c)}{N}$$`
`$$f_{e_{b}}=\frac{(a+b)(b+d)}{N}$$`
`$$f_{e_{c}}=\frac{(a+c)(c+d)}{N}$$`
`$$f_{e_{d}}=\frac{(b+d)(c+d)}{N}$$`
]
.pull-right-wide[
.small[
|                         | discriminad@ | no discriminad@ | Total |
|-------------------------|--------------|-----------------|-------|
| Menos que universitaria | a            | b               | (a+b) |
| Universitaria o más     | c            | d               | (c+d) |
| Total                   | (a+c)        | (b+d)           | N     |
]

## `$$\chi^2=\sum\frac{(f_o-f_e)^2}{f_e}$$`

El valor de Chi2  será mayor en la medida que lo observado sea distinto de los esperado al azar

]

---
Cálculo de frecuencias esperadas para ejemplo con CASEN

.pull-left[
.small[
&lt;table style="border-collapse:collapse; border:none;"&gt;
 &lt;tr&gt;
 &lt;th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; border-bottom:1px solid;" rowspan="2"&gt;e6a. ¿Cuál es el&lt;br&gt;nivel educacional al&lt;br&gt;que asiste o el más&lt;br&gt;alto al cual&lt;br&gt;asistió?&lt;/th&gt;
 &lt;th style="border-top:double; text-align:center; font-style:italic; font-weight:normal;" colspan="2"&gt;r9t. Últ. 12 meses:&lt;br&gt;No ha sido tratado&lt;br&gt;injustamente o&lt;br&gt;discriminado&lt;/th&gt;
 &lt;th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; font-weight:bolder; font-style:italic; border-bottom:1px solid; " rowspan="2"&gt;Total&lt;/th&gt;
 &lt;/tr&gt;
 
&lt;tr&gt;
 &lt;td style="border-bottom:1px solid; text-align:center; padding:0.2cm;"&gt;discriminad@&lt;/td&gt;
 &lt;td style="border-bottom:1px solid; text-align:center; padding:0.2cm;"&gt;no discriminad@&lt;/td&gt;
 &lt;/tr&gt;
 
&lt;tr&gt; 
&lt;td style="padding:0.2cm;  text-align:left; vertical-align:middle;"&gt;Menos que&lt;br&gt;universitaria&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;26996&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;141998&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;  "&gt;&lt;span style="color:black;"&gt;168994&lt;/span&gt;&lt;/td&gt; 
&lt;/tr&gt;
 
&lt;tr&gt; 
&lt;td style="padding:0.2cm;  text-align:left; vertical-align:middle;"&gt;Universitaria o más&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;6476&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;26761&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;  "&gt;&lt;span style="color:black;"&gt;33237&lt;/span&gt;&lt;/td&gt; 
&lt;/tr&gt;
 
&lt;tr&gt; 
&lt;td style="padding:0.2cm;  border-bottom:double; font-weight:bolder; font-style:italic; text-align:left; vertical-align:middle;"&gt;Total&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;   border-bottom:double;"&gt;&lt;span style="color:black;"&gt;33472&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;   border-bottom:double;"&gt;&lt;span style="color:black;"&gt;168759&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;   border-bottom:double;"&gt;&lt;span style="color:black;"&gt;202231&lt;/span&gt;&lt;/td&gt; 
&lt;/tr&gt;
&lt;td style="text-align:right; font-size:0.9em; font-style:italic; padding:0.2cm;" colspan="4"&gt;&amp;chi;&lt;sup&gt;2&lt;/sup&gt;=247.461 &amp;middot; df=1 &amp;middot; &amp;phi=0.035 &amp;middot; p=0.000&lt;/td&gt; 
&lt;/tr&gt;
 
&lt;/table&gt;
]
]

.pull-right[
.small[
`$$f_{e_{a}}=\frac{168994*33472}{202231}=27970.8$$`
`$$f_{e_{b}}=\frac{168994*168759}{202231}=141023.2$$`
`$$f_{e_{c}}=\frac{33472*33237}{202231}=5501.2$$`
`$$f_{e_{d}}=\frac{168759*33237}{202231}=27735.8$$`
]
]

---
En R también es posible obtener las frecuencias esperadas por celda con la función `CrossTable` de la librería `gmodels`


``` r
gmodels::CrossTable(casen2022_chi$educ_sup,
                    casen2022_chi$discrim, 
                    expected=TRUE,
                    prop.r = FALSE, 
                    prop.c=FALSE, 
                    prop.chisq = FALSE, 
                    prop.t = FALSE)
```


---
.small[

```
## 
##  
##    Cell Contents
## |-------------------------|
## |                       N |
## |              Expected N |
## |-------------------------|
## 
##  
## Total Observations in Table:  202231 
## 
##  
##                        | casen2022_chi$discrim 
## casen2022_chi$educ_sup |         0 |         1 | Row Total | 
## -----------------------|-----------|-----------|-----------|
##                      0 |     26996 |    141998 |    168994 | 
##                        | 27970.821 | 141023.179 |           | 
## -----------------------|-----------|-----------|-----------|
##                      1 |      6476 |     26761 |     33237 | 
##                        |  5501.179 | 27735.821 |           | 
## -----------------------|-----------|-----------|-----------|
##           Column Total |     33472 |    168759 |    202231 | 
## -----------------------|-----------|-----------|-----------|
## 
##  
## Statistics for All Table Factors
## 
## 
## Pearson's Chi-squared test 
## ------------------------------------------------------------
## Chi^2 =  247.7146     d.f. =  1     p =  8.178928e-56 
## 
## Pearson's Chi-squared test with Yates' continuity correction 
## ------------------------------------------------------------
## Chi^2 =  247.4605     d.f. =  1     p =  9.291443e-56 
## 
## 
```
]

---
.small[
`\begin{align*}
\chi^2&amp;=\sum\frac{(f_o-f_e)^2}{f_e} \\ \\
&amp;=\frac{(26996-27970.8)^2}{27970.8}+\frac{(141998-141023.2)^2}{141023.2}+\frac{(6476-5501.2)^2}{5501.2}+ \frac{(26761-27735.8)^2}{27735.8} \\\\
&amp;=\frac{(974.8)^2}{27970.8}+\frac{(974,8)^2}{141023.2}+\frac{(-974.8)^2}{5501.2}+ \frac{(-974.8)^2}{27735.8} \\\\
&amp;=\frac{950235,04}{27970.8}+\frac{950235,04}{141023.2}+\frac{950235,04}{5501.2}+ \frac{950235,04}{27735.8} \\\\
&amp;=33.97+6.74+172.7+34.3 \\\\
\end{align*}`
]

# `$$\chi^2=247.46$$`

---
# Inferencia y `\(\chi^2\)`

- Tal como en los pasos de la inferencia para pruebas anteriores (como `\(Z\)` y `\(t\)`), para realizar la prueba de hipótesis comparamos el valor observado de `\(\chi^2\)` con un valor crítico, que proviene de la distribución `\(\chi^2\)`

- además de especificar la probabilidad de error  `\(\alpha\)`, se requiere especificar los **grados de libertad**

---
# Grados de libertad en `\(\chi^2\)`

- Como en la distribución `\(t\)`, `\(\chi^2\)` también se ajusta por los grados de libertad, que se obtienen sumando el numero de niveles/categorías -1 de cada variable

- En nuestro ejemplo de tabla de 2x2 (dos categorías de cada variable), los grados de libertad equivalen a:

`$$gl=(2-1)*(2-1)=1*1=1$$`

---

![](img/chi_dist2.png)

---
# Comparación  valor crítico y valor estimado

- `\(\chi^2\)` estimado: **247.46**

- `\(\chi^2\)` crítico para un `\(\alpha=0.05\)` y 1 grado de libertad: **3.84**


- En el ejemplo: **valor estimado `\(\chi^2\)` &gt; valor crítico `\(\chi^2\)`**

- Por lo tanto **se rechaza `\(H_0\)`**, podemos decir que hay evidencia de asociación entre percepción de discriminación y nivel educacional con un 95% de confianza

---
# `\(\chi^2\)` directamente en R

La función es  `chisq.test()`



``` r
chisq.test(table(casen2022_chi$educ_sup,
                 casen2022_chi$discrim))
```

```
## 
## 	Pearson's Chi-squared test with Yates' continuity correction
## 
## data:  table(casen2022_chi$educ_sup, casen2022_chi$discrim)
## X-squared = 247.46, df = 1, p-value &lt; 2.2e-16
```

---

.pull-left-narrow[
.medium[
De todas maneras, aparece directamente en varios outputs de tablas de contingencia en R, como la generada antes con `sjtab`, de librería `sjPlot`:


``` r
casen2022_chi %&gt;%
  sjtab(educ_sup,
        discrim,
  show.row.prc=TRUE)
```
]
]

.pull-right-wide[
&lt;br&gt;
.small[
&lt;table style="border-collapse:collapse; border:none;"&gt;
 &lt;tr&gt;
 &lt;th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; border-bottom:1px solid;" rowspan="2"&gt;e6a. ¿Cuál es el&lt;br&gt;nivel educacional al&lt;br&gt;que asiste o el más&lt;br&gt;alto al cual&lt;br&gt;asistió?&lt;/th&gt;
 &lt;th style="border-top:double; text-align:center; font-style:italic; font-weight:normal;" colspan="2"&gt;r9t. Últ. 12 meses:&lt;br&gt;No ha sido tratado&lt;br&gt;injustamente o&lt;br&gt;discriminado&lt;/th&gt;
 &lt;th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; font-weight:bolder; font-style:italic; border-bottom:1px solid; " rowspan="2"&gt;Total&lt;/th&gt;
 &lt;/tr&gt;
 
&lt;tr&gt;
 &lt;td style="border-bottom:1px solid; text-align:center; padding:0.2cm;"&gt;discriminad@&lt;/td&gt;
 &lt;td style="border-bottom:1px solid; text-align:center; padding:0.2cm;"&gt;no discriminad@&lt;/td&gt;
 &lt;/tr&gt;
 
&lt;tr&gt; 
&lt;td style="padding:0.2cm;  text-align:left; vertical-align:middle;"&gt;Menos que&lt;br&gt;universitaria&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;26996&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;16&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;141998&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;84&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;  "&gt;&lt;span style="color:black;"&gt;168994&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;100&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt; 
&lt;/tr&gt;
 
&lt;tr&gt; 
&lt;td style="padding:0.2cm;  text-align:left; vertical-align:middle;"&gt;Universitaria o más&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;6476&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;19.5&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center; "&gt;&lt;span style="color:black;"&gt;26761&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;80.5&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;  "&gt;&lt;span style="color:black;"&gt;33237&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;100&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt; 
&lt;/tr&gt;
 
&lt;tr&gt; 
&lt;td style="padding:0.2cm;  border-bottom:double; font-weight:bolder; font-style:italic; text-align:left; vertical-align:middle;"&gt;Total&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;   border-bottom:double;"&gt;&lt;span style="color:black;"&gt;33472&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;16.6&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;   border-bottom:double;"&gt;&lt;span style="color:black;"&gt;168759&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;83.4&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt;
&lt;td style="padding:0.2cm; text-align:center;   border-bottom:double;"&gt;&lt;span style="color:black;"&gt;202231&lt;/span&gt;&lt;br&gt;&lt;span style="color:#333399;"&gt;100&amp;nbsp;&amp;#37;&lt;/span&gt;&lt;/td&gt; 
&lt;/tr&gt;
&lt;td style="text-align:right; font-size:0.9em; font-style:italic; padding:0.2cm;" colspan="4"&gt;&amp;chi;&lt;sup&gt;2&lt;/sup&gt;=247.461 &amp;middot; df=1 &amp;middot; &amp;phi=0.035 &amp;middot; p=0.000&lt;/td&gt; 
&lt;/tr&gt;
 
&lt;/table&gt;
]
]

---
# Resumen: 5 pasos inferencia para tablas cruzadas

1. Establecer las hipótesis 

2. Calcular frecuencias esperadas 

3. Estimar estadístico de prueba `\(\chi^2\)`

4. Establecer valor crítico de la prueba (de acuerdo a un cierto nivel de confianza y grados de libertad)

5. Contraste e interpretación


---
class: inverse bottom right

# Tamaños de efecto de asociación en tablas de contingencia

---
# Coeficiente Phi

- El Coeficiente Phi (φ) es una medida de asociación entre dos variables binarias.

- Es similar al coeficiente de correlación de Pearson pero específico para una tabla de contingencia de  2x2.

- Se interpreta de la misma manera que Pearson en términos de sentido (positivo/negativo) y fuerza (cercanía a 1 / -1)

---
.small[
  
  |                         | discriminad@ | no discriminad@ | Total |
  |-------------------------|--------------|-----------------|-------|
  | Menos que universitaria | 30 .red[(a)] | 20 .red[(b)]    | 50    |
  | Universitaria o más     | 20 .red[(c)] | 30 .red[(d)]    | 50    |
  | Total                   | 50           | 50              | 100   |
  ]

`\begin{align*}
  \phi &amp;= \frac{ad - bc}{\sqrt{(a + b)(c + d)(a + c)(b + d)}} \\
  &amp;= \frac{(30 \times 30) - (20 \times 20)}{\sqrt{(30 + 20)(20 + 30)(30 + 20)(20 + 30)}} \\
  &amp;= \frac{900 - 400}{\sqrt{6250000}} \\
  &amp;= \frac{500}{2500} \\
  &amp;= 0.2
\end{align*}`

---

.pull-left-wide[

``` r
tabla &lt;- matrix(c(30, 20, 20, 30), 
        nrow = 2, byrow = TRUE)
print(tabla)
```

```
##      [,1] [,2]
## [1,]   30   20
## [2,]   20   30
```

``` r
coef_phi &lt;-psych::phi(tabla)
print(coef_phi)
```

```
## [1] 0.2
```
]

.pull-right-narrow[
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;&lt;br&gt;
&lt;br&gt;
 El valor de 0.2 indica una asociación baja entre ambas variables de la tabla de contingencia

]

---
# V de Cramer

Es una medida general de asociación para tablas que pueden ir más allá de 2x2:

## `\(V_{Cramer}=\sqrt{\frac{\chi²}{n * (k - 1)}}\)`

Donde:

- χ² es el valor del estadístico Chi-cuadrado.
- n es el total de observaciones.
- k es el menor número entre las filas o columnas de la tabla.

---
| Grupo  | Categoría 1 | Categoría 2 |
|--------|-------------|-------------|
| A      |     30      |     20      |
| B      |     10      |     40      |
| C      |     50      |     30      |

- χ² = 5.35
- n = 180
- La tabla es 3x2, por lo que k = 2.

`\(V = \sqrt{\frac{5.35} {180 * (2 - 1)}}=\sqrt{\frac{5.35}{180}}=0.173\)`

Por lo tanto, existe una asociación débil entre las variables

---
---
# Medidas de asociación según nivel de medición
----

.small[

|                       | **Nominal Dicotómica**      | **Nominal Politómica**      | **Ordinal**                 | **Intervalar/Razón**       |
|-----------------------|----------------------------|----------------------------|----------------------------|---------------------------|
| **Nominal Dicotómica**|       Tetracórica / Chi2     |                |                             |    |
| **Nominal Politómica**|         Chi2       |    Chi2             |       |                             |
| **Ordinal**           |     Biserial       |  Chi2                          | Spearman, Kendall           |                 |
| **Intervalar/Razón**  | Punto Biserial / Prueba t   |  (ANOVA)                          | Pearson/biserial, Policórica                 | Pearson       |

]

---
class: front

.pull-left-wide[
# Estadística Correlacional]

.pull-right-narrow[![:scale 85%](img/logo-correlacional-transp.png)]

## Inferencia, Asociación y reporte

----
.pull-left[

## Juan Carlos Castillo
## Sociología FACSO - UChile
## 2do Sem 2024
## [.orange[correlacional.netlify.com]](https://encuestas-sociales.netlify.com)
]
    


&lt;!-- adjust font size in this css code chunk for flipbook, currently 80 --&gt;






    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="libs/macros.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "dracula",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>
<style>
.logo {
  background-image: url("img/logo-correlacional-transp.png");
  background-size: contain;
  background-repeat: no-repeat;
  position: absolute;
  top: 16.3em;
  right: 31em;
  width: 110px;
  height: 70px;
  z-index: 0;
}
</style>

<script>
document
  .querySelectorAll(
    '.remark-slide-content' +
    ':not(.title-slide)' +
    // add additional classes to exclude here, e.g.
    // ':not(.inverse)' +
    ':not(.hide-logo)'
  )
  .forEach(el => {
    el.innerHTML += '<div class="logo"></div>';
  });
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
